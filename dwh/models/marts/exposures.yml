version: 2

exposures:
  - name: api_weekly_usage
    type: application
    maturity: low
    url: http://localhost:8000/
    description: "API will read weekly usage metrics from f_weekly_usage (Stage 4)."
    depends_on:
      - ref('f_weekly_usage')

  - name: api_defense_vs_pos
    type: application
    maturity: low
    url: http://localhost:8000/
    description: "API will read defense-vs-position metrics from f_defense_vs_pos (Stage 4)."
    depends_on:
      - ref('f_defense_vs_pos')

  - name: projections_weekly
    type: analysis
    maturity: medium
    description: "Weekly projections consume usage and defense metrics."
    depends_on:
      - ref('f_weekly_usage')
      - ref('f_defense_vs_pos')
      - ref('f_calendar_weeks')

  - name: projections_ros
    type: analysis
    maturity: medium
    description: "Rest-of-season projections aggregate weekly projections."
    depends_on:
      - ref('f_calendar_weeks')